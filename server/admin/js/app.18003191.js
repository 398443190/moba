(function(e){function t(t){for(var r,o,l=t[0],i=t[1],c=t[2],u=0,d=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},n={app:0},s=[];function o(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"0ee537ca"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=o(e);var c=new Error;s=function(t){i.onerror=i.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,a[1](c)}n[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/admin/",l.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var m=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},"22de":function(e,t,a){"use strict";var r=a("8319"),n=a.n(r);n.a},"38c8":function(e,t,a){},4289:function(e,t,a){"use strict";var r=a("6125"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o={name:"app"},l=o,i=(a("034f"),a("2877")),c=Object(i["a"])(l,n,s,!1,null,null,null),u=c.exports,m=(a("d3b7"),a("8c4f")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-card",{staticClass:"login-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("请先登陆")])]),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"用户名",prop:"pass"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")]),a("el-button",{attrs:{"native-type":"reset"}},[e._v("重置")])],1)],1)],1)],1)},p=[],f=(a("96cf"),a("1da1")),h={name:"Login",data:function(){return{model:{username:"",password:""}}},methods:{save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/login",e.model);case 2:a=t.sent,a&&(localStorage.token=a.data.token,e.$router.push("/"),e.$message({type:"success",message:"登录成功"}));case 4:case"end":return t.stop()}}),t)})))()}}},v=h,b=(a("4289"),Object(i["a"])(v,d,p,!1,null,"b36bd388",null)),g=b.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100vh"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","default-openeds":["1","3"]}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("内容管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("分类")]),a("el-menu-item",{attrs:{index:"/categories/create"}},[e._v("新建分类 ")]),a("el-menu-item",{attrs:{index:"/categories/list"}},[e._v("分类列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("物品")]),a("el-menu-item",{attrs:{index:"/items/create"}},[e._v("新建物品 ")]),a("el-menu-item",{attrs:{index:"/items/list"}},[e._v("物品列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("英雄")]),a("el-menu-item",{attrs:{index:"/heroes/create"}},[e._v("新建英雄 ")]),a("el-menu-item",{attrs:{index:"/heroes/list"}},[e._v("英雄列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("文章")]),a("el-menu-item",{attrs:{index:"/articles/create"}},[e._v("新建文章")]),a("el-menu-item",{attrs:{index:"/articles/list"}},[e._v("文章列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("广告位")]),a("el-menu-item",{attrs:{index:"/ads/create"}},[e._v("新建广告位")]),a("el-menu-item",{attrs:{index:"/ads/list"}},[e._v("广告位列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("管理员")]),a("el-menu-item",{attrs:{index:"/admin_users/create"}},[e._v("新建管理员")]),a("el-menu-item",{attrs:{index:"/admin_users/list"}},[e._v("管理员列表")])],2)],2)],1)],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("查看")]),a("el-dropdown-item",[e._v("新增")]),a("el-dropdown-item",[e._v("删除")])],1)],1),a("span",[e._v("王小虎")])],1),a("el-main",[a("router-view")],1)],1)],1)},x=[],_=(a("cb29"),{data:function(){var e={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(e)}}}),y=_,$=(a("22de"),Object(i["a"])(y,w,x,!1,null,null,null)),k=$.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v(e._s(e.id?"编辑分类":"新建分类"))]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"上级分类"}},[a("el-select",{model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parent,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("完成")])],1)],1)],1)},R=[],D={props:{id:{}},data:function(){return{model:{name:"",parent:""},parent:[]}},mounted:function(){this.id&&this.fetch(),this.fetchparent()},methods:{fetchparent:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories");case 2:a=t.sent,e.parent=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id?e.$http.put("rest/categories/".concat(e.id),e.model):e.$http.post("rest/categories",e.model),e.$router.push("/categories/list"),e.$message({type:"success",message:"创建帖子成功"});case 3:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories/".concat(e.id));case 2:a=t.sent,e.model=a.data.data;case 4:case"end":return t.stop()}}),t)})))()}}},j=D,C=Object(i["a"])(j,O,R,!1,null,null,null),S=C.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v("分类列表")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"280"}}),a("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$router.push("/categories/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},E=[],A=(a("b0c0"),{data:function(){return{tableData:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories");case 2:a=t.sent,console.log(a.data,";;"),e.tableData=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var a=this;this.$confirm('此操作将永久删除分类"'.concat(t.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("rest/categories/".concat(t._id));case 2:a.$message({type:"success",message:"删除成功!"}),a.fetchData();case 4:case"end":return e.stop()}}),e)}))))}}}),P=A,z=Object(i["a"])(P,T,E,!1,null,null,null),B=z.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v(e._s(e.id?"编辑分类":"新建分类"))]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.getAuthHeader(),"on-success":e.handleAvatarSuccess}},[e.model.icon?a("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("完成")])],1)],1)],1)},U=[],L={props:{id:{}},data:function(){return{model:{name:"",icon:""}}},mounted:function(){this.id&&this.fetch()},methods:{handleAvatarSuccess:function(e,t){this.model.icon=e.url},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id?e.$http.put("rest/items/".concat(e.id),e.model):e.$http.post("rest/items",e.model),e.$router.push("/items/list"),e.$message({type:"success",message:"创建物品成功"});case 3:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/items/".concat(e.id));case 2:a=t.sent,e.model=a.data.data;case 4:case"end":return t.stop()}}),t)})))()}}},H=L,N=Object(i["a"])(H,I,U,!1,null,null,null),M=N.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v("物品列表")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"280"}}),a("el-table-column",{attrs:{prop:"name",label:"物品名称"}}),a("el-table-column",{attrs:{label:"物品图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.icon,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$router.push("/items/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},V=[],q={data:function(){return{tableData:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/items");case 2:a=t.sent,console.log(a.data,";;"),e.tableData=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var a=this;this.$confirm('此操作将永久删除分类"'.concat(t.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("rest/items/".concat(t._id));case 2:a.$message({type:"success",message:"删除成功!"}),a.fetchData();case 4:case"end":return e.stop()}}),e)}))))}}},J=q,G=Object(i["a"])(J,F,V,!1,null,null,null),K=G.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v(e._s(e.id?"编辑英雄":"新建英雄"))]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.getAuthHeader(),"on-success":function(t){return e.$set(e.model,"avatar",t.url)}}},[e.model.avatar?a("img",{staticClass:"avatar",attrs:{src:e.model.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"banner"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.getAuthHeader(),"on-success":function(t){return e.$set(e.model,"banner",t.url)}}},[e.model.banner?a("img",{staticClass:"avatar",attrs:{src:e.model.banner}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"称号"}},[a("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{multiple:""},model:{value:e.model.category,callback:function(t){e.$set(e.model,"category",t)},expression:"model.category"}},e._l(e.categories,(function(e,t){return a("el-option",{key:t,attrs:{value:e._id,label:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"难度"}},[a("el-rate",{staticStyle:{"margin-top":"10px"},attrs:{max:9,"show-score":""},model:{value:e.model.scories.difficult,callback:function(t){e.$set(e.model.scories,"difficult",t)},expression:"model.scories.difficult"}})],1),a("el-form-item",{attrs:{label:"攻击"}},[a("el-rate",{staticStyle:{"margin-top":"10px"},attrs:{max:9,"show-score":""},model:{value:e.model.scories.skill,callback:function(t){e.$set(e.model.scories,"skill",t)},expression:"model.scories.skill"}})],1),a("el-form-item",{attrs:{label:"技能"}},[a("el-rate",{staticStyle:{"margin-top":"10px"},attrs:{max:9,"show-score":""},model:{value:e.model.scories.attack,callback:function(t){e.$set(e.model.scories,"attack",t)},expression:"model.scories.attack"}})],1),a("el-form-item",{attrs:{label:"生存"}},[a("el-rate",{staticStyle:{"margin-top":"10px"},attrs:{max:9,"show-score":""},model:{value:e.model.scories.survice,callback:function(t){e.$set(e.model.scories,"survice",t)},expression:"model.scories.survice"}})],1),a("el-form-item",{attrs:{label:"顺风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:e.model.itemssucc,callback:function(t){e.$set(e.model,"itemssucc",t)},expression:"model.itemssucc"}},e._l(e.items,(function(e,t){return a("el-option",{key:t,attrs:{value:e._id,label:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"逆风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:e.model.itemdefeat,callback:function(t){e.$set(e.model,"itemdefeat",t)},expression:"model.itemdefeat"}},e._l(e.items,(function(e,t){return a("el-option",{key:t,attrs:{value:e._id,label:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"使用技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.model.useageTips,callback:function(t){e.$set(e.model,"useageTips",t)},expression:"model.useageTips"}})],1),a("el-form-item",{attrs:{label:"对战思路"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.model.battleTips,callback:function(t){e.$set(e.model,"battleTips",t)},expression:"model.battleTips"}})],1),a("el-form-item",{attrs:{label:"团战思路"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.model.teamTips,callback:function(t){e.$set(e.model,"teamTips",t)},expression:"model.teamTips"}})],1)],1),a("el-tab-pane",{attrs:{label:"技能信息",name:"attack"}},[a("el-button",{on:{click:function(t){return e.model.skills.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加技能 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.skills,(function(t,r){return a("el-col",{key:r,attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.getAuthHeader(),"on-success":function(a){return e.$set(t,"icon",a.url)}}},[t.icon?a("img",{staticClass:"avatar",attrs:{src:t.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}})],1),a("el-form-item",{attrs:{label:"小提示"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.tips,callback:function(a){e.$set(t,"tips",a)},expression:"item.tips"}})],1),a("el-form-item",{attrs:{label:"冷却值"}},[a("el-input",{model:{value:t.delay,callback:function(a){e.$set(t,"delay",a)},expression:"item.delay"}})],1),a("el-form-item",{attrs:{label:"消耗"}},[a("el-input",{model:{value:t.cost,callback:function(a){e.$set(t,"cost",a)},expression:"item.cost"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.skills.splice(r,1)}}},[e._v("删除")])],1)],1)})),1)],1),a("el-tab-pane",{attrs:{label:"英雄关系",name:"partner"}},[a("el-button",{on:{click:function(t){return e.model.partners.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加英雄 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.partners,(function(t,r){return a("el-col",{key:r,attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-select",{attrs:{filterable:""},model:{value:t.hero,callback:function(a){e.$set(t,"hero",a)},expression:"item.hero"}},e._l(e.partnerdata,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.partners.splice(r,1)}}},[e._v("删除")])],1)],1)})),1)],1)],1),a("el-form-item",[a("el-button",{staticStyle:{"margin-top":"1rem"},attrs:{type:"primary","native-type":"submit"}},[e._v("完成")])],1)],1)],1)},W=[],X=(a("4de4"),{props:{id:{}},data:function(){return{activeName:"attack",model:{name:"",avatar:"",title:"",category:[],scories:{difficult:0,skill:0,attack:0,survice:0},skills:[],partners:[],itemssucc:[],itemdefeat:[]},categories:[],items:[],partnerdata:[]}},mounted:function(){this.id&&this.fetch(),this.fetchCategories(),this.fetchItems(),this.fetchPartnerData()},methods:{fetchPartnerData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/heroes");case 2:a=t.sent,e.partnerdata=a.data.data,console.log(e.partnerdata,"this.partnerdata");case 5:case"end":return t.stop()}}),t)})))()},fetchItems:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/items");case 2:a=t.sent,e.items=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},fetchCategories:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories");case 2:a=t.sent,e.categories=a.data.data.filter((function(e){return e.parent}));case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id?e.$http.put("rest/heroes/".concat(e.id),e.model):e.$http.post("rest/heroes",e.model),e.$router.push("/heroes/list"),e.$message({type:"success",message:e.id?"修改英雄信息成功":"创建英雄成功"});case 3:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/heroes/".concat(e.id));case 2:a=t.sent,e.model=Object.assign(e.model,a.data.data),console.log(e.model,"this.model");case 5:case"end":return t.stop()}}),t)})))()}}}),Y=X,Z=Object(i["a"])(Y,Q,W,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v("英雄列表")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"280"}}),a("el-table-column",{attrs:{prop:"name",label:"英雄名称"}}),a("el-table-column",{attrs:{label:"英雄头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"5rem",width:"5rem"},attrs:{src:e.row.avatar,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"title",label:"英雄称号"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$router.push("/heroes/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},ae=[],re={data:function(){return{tableData:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/heroes");case 2:a=t.sent,console.log(a.data,";;"),e.tableData=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var a=this;this.$confirm('此操作将永久删除英雄"'.concat(t.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("rest/heroes/".concat(t._id));case 2:a.$message({type:"success",message:"删除成功!"}),a.fetchData();case 4:case"end":return e.stop()}}),e)}))))}}},ne=re,se=Object(i["a"])(ne,te,ae,!1,null,null,null),oe=se.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v(e._s(e.id?"编辑文章":"新建文章"))]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{multiple:""},model:{value:e.model.category,callback:function(t){e.$set(e.model,"category",t)},expression:"model.category"}},e._l(e.categories,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"内容"}},[a("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":e.handleImageAdded},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("完成")])],1)],1)],1)},ie=[],ce=a("5873"),ue={props:{id:{}},data:function(){return{model:{title:"",category:"",description:""},categories:[]}},components:{VueEditor:ce["a"]},mounted:function(){this.id&&this.fetch(),this.fetchCategories()},methods:{fetchCategories:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories");case 2:a=t.sent,e.categories=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id?e.$http.put("rest/articles/".concat(e.id),e.model):e.$http.post("rest/articles",e.model),e.$router.push("/articles/list"),e.$message({type:"success",message:"创建帖子成功"});case 3:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/articles/".concat(e.id));case 2:a=t.sent,e.model=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},handleImageAdded:function(e,t,a,r){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){var o,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=new FormData,o.append("file",e),s.next=4,n.$http.post("upload",o);case 4:l=s.sent,t.insertEmbed(a,"image",l.data.url),r();case 7:case"end":return s.stop()}}),s)})))()}}},me=ue,de=Object(i["a"])(me,le,ie,!1,null,null,null),pe=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v("文章列表")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"280"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$router.push("/articles/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},he=[],ve={data:function(){return{tableData:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/articles");case 2:a=t.sent,console.log(a.data,";;"),e.tableData=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var a=this;this.$confirm('此操作将永久删除分类"'.concat(t.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("rest/articles/".concat(t._id));case 2:a.$message({type:"success",message:"删除成功!"}),a.fetchData();case 4:case"end":return e.stop()}}),e)}))))}}},be=ve,ge=Object(i["a"])(be,fe,he,!1,null,null,null),we=ge.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v(e._s(e.id?"编辑广告位":"新建广告位"))]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"广告名称"}},[a("el-button",{on:{click:function(t){return e.model.items.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加广告 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.items,(function(t,r){return a("el-col",{key:r,attrs:{md:24}},[a("el-form-item",{staticStyle:{"margin-top":"0.5rem"},attrs:{label:"跳转链接URL"}},[a("el-input",{model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"item.url"}})],1),a("el-form-item",{staticStyle:{"margin-top":"0.5rem"},attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.getAuthHeader(),"on-success":function(a){return e.$set(t,"img",a.url)}}},[t.img?a("img",{staticClass:"avatar",attrs:{src:t.img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.items.splice(r,1)}}},[e._v("删除")])],1)],1)})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("完成")])],1)],1)],1)},_e=[],ye={props:{id:{}},data:function(){return{model:{name:"",items:[]},parent:[]}},mounted:function(){this.id&&this.fetch()},methods:{save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id?e.$http.put("rest/ads/".concat(e.id),e.model):e.$http.post("rest/ads",e.model),e.$router.push("/ads/list"),e.$message({type:"success",message:"创建广告位成功"});case 3:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/ads/".concat(e.id));case 2:a=t.sent,e.model=Object.assign({},e.model,a.data.data);case 4:case"end":return t.stop()}}),t)})))()}}},$e=ye,ke=Object(i["a"])($e,xe,_e,!1,null,null,null),Oe=ke.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v("分类列表")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"280"}}),a("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$router.push("/ads/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},De=[],je={data:function(){return{tableData:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/ads");case 2:a=t.sent,console.log(a.data,";;"),e.tableData=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var a=this;this.$confirm('此操作将永久删除广告位"'.concat(t.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("rest/ads/".concat(t._id));case 2:a.$message({type:"success",message:"删除成功!"}),a.fetchData();case 4:case"end":return e.stop()}}),e)}))))}}},Ce=je,Se=Object(i["a"])(Ce,Re,De,!1,null,null,null),Te=Se.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v(e._s(e.id?"编辑管理员":"新建管理员"))]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"管理员名称"}},[a("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"管理员密码"}},[a("el-input",{attrs:{type:"password"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("完成")])],1)],1)],1)},Ae=[],Pe={props:{id:{}},data:function(){return{model:{username:"",parpassword:""}}},mounted:function(){this.id&&this.fetch()},methods:{fetch:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/admin_users/".concat(e.id));case 2:a=t.sent,e.model=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id?e.$http.put("rest/admin_users/".concat(e.id),e.model):e.$http.post("rest/admin_users",e.model),e.$router.push("/admin_users/list"),e.$message({type:"success",message:"创建成功"});case 3:case"end":return t.stop()}}),t)})))()}}},ze=Pe,Be=Object(i["a"])(ze,Ee,Ae,!1,null,null,null),Ie=Be.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("h1",[e._v("分类列表")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"280"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$router.push("/admin_users/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},Le=[],He={data:function(){return{tableData:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/admin_users");case 2:a=t.sent,console.log(a.data,";;"),e.tableData=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var a=this;this.$confirm('此操作将永久删除分类"'.concat(t.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("rest/admin_users/".concat(t._id));case 2:a.$message({type:"success",message:"删除成功!"}),a.fetchData();case 4:case"end":return e.stop()}}),e)}))))}}},Ne=He,Me=Object(i["a"])(Ne,Ue,Le,!1,null,null,null),Fe=Me.exports;r["default"].use(m["a"]);var Ve=[{path:"/login",name:"Login",component:g,meta:{isPublic:!0}},{path:"/",name:"Main",component:k,children:[{path:"/categories/create",component:S},{path:"/categories/edit/:id",component:S,props:!0},{path:"/categories/list",component:B},{path:"/items/create",component:M},{path:"/items/edit/:id",component:M,props:!0},{path:"/items/list",component:K},{path:"/heroes/create",component:ee},{path:"/heroes/edit/:id",component:ee,props:!0},{path:"/heroes/list",component:oe},{path:"/articles/create",component:pe},{path:"/articles/edit/:id",component:pe,props:!0},{path:"/articles/list",component:we},{path:"/ads/create",component:Oe},{path:"/ads/edit/:id",component:Oe,props:!0},{path:"/ads/list",component:Te},{path:"/admin_users/create",component:Ie},{path:"/admin_users/edit/:id",component:Ie,props:!0},{path:"/admin_users/list",component:Fe}]},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],qe=new m["a"]({routes:Ve});qe.beforeEach((function(e,t,a){if(console.log(e,"to"),!e.meta.isPublic&&!localStorage.token)return a("/login");a()}));var Je=qe,Ge=a("2f62");r["default"].use(Ge["a"]);var Ke=new Ge["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Qe=a("5c96"),We=a.n(Qe);a("c69f");r["default"].use(We.a);var Xe=a("bc3a"),Ye=a.n(Xe),Ze=Ye.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/admin/api"});Ze.interceptors.request.use((function(e){return localStorage.token&&(e.headers.Authorization="Bearer "+(localStorage.token||"")),e}),(function(e){return Promise.reject(e)})),Ze.interceptors.response.use((function(e){return e}),(function(e){e.response.data.message&&r["default"].prototype.$message({type:"error",message:e.response.data.message}),401===e.response.status&&(console.log("login"),Je.push("/login"))}));var et=Ze;a("38c8");r["default"].config.productionTip=!1,r["default"].prototype.$http=et,r["default"].mixin({computed:{uploadUrl:function(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthHeader:function(){return{Authorization:"bearer ".concat(localStorage.token||"")}}}}),new r["default"]({router:Je,store:Ke,render:function(e){return e(u)}}).$mount("#app")},6125:function(e,t,a){},8319:function(e,t,a){},"85ec":function(e,t,a){},c69f:function(e,t,a){}});
//# sourceMappingURL=app.18003191.js.map